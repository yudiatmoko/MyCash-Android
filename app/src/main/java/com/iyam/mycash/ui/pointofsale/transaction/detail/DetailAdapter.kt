package com.iyam.mycash.ui.pointofsale.transaction.detailimport android.content.Contextimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.recyclerview.widget.AsyncListDifferimport androidx.recyclerview.widget.DiffUtilimport androidx.recyclerview.widget.RecyclerViewimport com.iyam.mycash.Rimport com.iyam.mycash.databinding.LayoutTransactionItemBindingimport com.iyam.mycash.model.TransactionDetailimport com.iyam.mycash.utils.ViewHolderBinderimport com.iyam.mycash.utils.toCurrencyFormatclass DetailAdapter(    private val context: Context) : RecyclerView.Adapter<RecyclerView.ViewHolder>() {    private val differ = AsyncListDiffer(        this,        object : DiffUtil.ItemCallback<TransactionDetail>() {            override fun areItemsTheSame(                oldItem: TransactionDetail,                newItem: TransactionDetail            ): Boolean {                return oldItem.id == newItem.id            }            override fun areContentsTheSame(                oldItem: TransactionDetail,                newItem: TransactionDetail            ): Boolean {                return oldItem.hashCode() == newItem.hashCode()            }        }    )    override fun onCreateViewHolder(        parent: ViewGroup,        viewType: Int    ): DetailViewHolder {        val binding =            LayoutTransactionItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)        return DetailViewHolder(            context,            binding        )    }    override fun getItemCount(): Int {        return differ.currentList.size    }    override fun onBindViewHolder(        holder: RecyclerView.ViewHolder,        position: Int    ) {        (holder as ViewHolderBinder<TransactionDetail>).bind(differ.currentList[position])    }    fun setData(data: List<TransactionDetail>) {        differ.submitList(data)    }    class DetailViewHolder(        private val context: Context,        private val binding: LayoutTransactionItemBinding    ) : RecyclerView.ViewHolder(binding.root), ViewHolderBinder<TransactionDetail> {        override fun bind(item: TransactionDetail) {            binding.tvProductName.text = context.getString(                R.string.transaction_product_example,                item.productQty,                item.productName            )            binding.tvTotalPrice.text = item.totalPrice?.toFloat()?.toCurrencyFormat()            binding.tvProductPrice.text = context.getString(                R.string.product_price_transaction_item,                item.productQty,                item.productPrice?.toFloat()?.toCurrencyFormat()            )        }    }}